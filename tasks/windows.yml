---

#- name: "Ansible | List all known variables and facts"
#  debug:
#    var: hostvars[inventory_hostname]
#    verbosity: 1

- name: OS
  debug:
    msg: "{{ ansible_distribution }}  on {{ ansible_facts['system_vendor'] }}"

- set_fact:
    cloud: "google"
  when:
    ansible_facts['system_vendor'] == 'Google'

- set_fact:
    cloud: "azure"
  when:
    ansible_facts['system_vendor'] == 'Microsoft Corporation'

- set_fact:
    cloud: "amazon"
  when:
    ansible_facts['system_vendor'] == 'Xen'

- set_fact:
    cloud: "vagrant"
  when:
    ansible_facts['system_vendor'] == 'innotek GmbH'

- name: Write Ansible hostvars to file
  copy:
    content: "{{ hostvars[inventory_hostname] }}"
    dest: C:/soe-{{ version_number }}.json
    mode: "0644"
  #become: true
  #become_method: runas
  #become_user: Administrator
